---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const allPosts = await getCollection('blog');
const recentPosts = allPosts.sort((a, b) => new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime()).slice(0, 6);

const categories = [
  { name: 'GuÃ­as de cuidado', slug: 'guias', icon: 'ğŸ“˜', desc: 'Aprende paso a paso a cuidar cada tipo de planta' },
  { name: 'Problemas y enfermedades', slug: 'problemas', icon: 'ğŸ”', desc: 'Diagnostica y resuelve los problemas mÃ¡s comunes' },
  { name: 'Tipos de plantas', slug: 'tipos', icon: 'ğŸª´', desc: 'Descubre la planta perfecta para tu hogar' },
];
---

<BaseLayout
  title="VerdeEnCasa â€” Tu guÃ­a completa de plantas de interior"
  description="Aprende a cuidar tus plantas de interior con guÃ­as prÃ¡cticas, soluciones a problemas comunes y consejos de expertos. Todo en espaÃ±ol, fÃ¡cil y sin complicaciones."
>
  <!-- Hero -->
  <section class="hero">
    <div>
      <h1>ğŸŒ¿ Cuida tus plantas como un experto</h1>
      <p>GuÃ­as claras, soluciones rÃ¡pidas y consejos prÃ¡cticos para que tus plantas de interior prosperen. Sin tecnicismos, solo lo que funciona.</p>
      <div class="hero-cta">
        <a href="/guias/" class="btn btn-primary">Ver guÃ­as de cuidado</a>
        <a href="/problemas/" class="btn btn-secondary">Resolver un problema</a>
      </div>
    </div>
  </section>

  <!-- Por quÃ© confiar en nosotros -->
  <section style="padding: 4rem 0 2rem; background: #fff;">
    <div class="container--wide">
      <h2 style="font-size:1.8rem; font-weight:800; text-align:center; margin-bottom:3rem; color:#0a0a0a;">Â¿Por quÃ© VerdeEnCasa?</h2>
      <div class="features-grid">
        <div class="feature-box">
          <div class="feature-icon">âœ…</div>
          <h3>GuÃ­as verificadas</h3>
          <p>Cada artÃ­culo estÃ¡ respaldado por investigaciÃ³n y experiencia real con plantas de interior.</p>
        </div>
        <div class="feature-box">
          <div class="feature-icon">ğŸ‡ªğŸ‡¸</div>
          <h3>100% en espaÃ±ol</h3>
          <p>Adaptado al clima, las condiciones y las plantas disponibles en EspaÃ±a y LatinoamÃ©rica.</p>
        </div>
        <div class="feature-box">
          <div class="feature-icon">ğŸ’¡</div>
          <h3>Soluciones prÃ¡cticas</h3>
          <p>Sin tecnicismos innecesarios. Te decimos quÃ© hacer y cÃ³mo hacerlo, paso a paso.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CategorÃ­as -->
  <section style="padding: 3rem 0; background: #fafafa;">
    <div class="container--wide">
      <h2 style="font-size:1.8rem; font-weight:800; margin-bottom:0.75rem; color:#0a0a0a;">Explora por categorÃ­a</h2>
      <p style="color:#737373; margin-bottom:2.5rem; font-size:1.05rem;">Encuentra exactamente lo que necesitas para tus plantas</p>
      <div class="cards-grid">
        {categories.map(cat => (
          <a href={`/${cat.slug}/`} style="text-decoration:none;">
            <div class="card">
              <div class="card-image">{cat.icon}</div>
              <div class="card-body">
                <h3 class="card-title">{cat.name}</h3>
                <p class="card-excerpt">{cat.desc}</p>
              </div>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- ArtÃ­culos recientes -->
  <section style="padding: 4rem 0; background: #fff;">
    <div class="container--wide">
      <h2 style="font-size:1.8rem; font-weight:800; margin-bottom:0.75rem; color:#0a0a0a;">ArtÃ­culos recientes</h2>
      <p style="color:#737373; margin-bottom:2.5rem; font-size:1.05rem;">Las Ãºltimas guÃ­as y soluciones para tus plantas</p>
      <div class="cards-grid">
        {recentPosts.map(post => (
          <a href={`/blog/${post.id}/`} style="text-decoration:none;">
            <div class="card">
              <div class="card-image">ğŸŒ±</div>
              <div class="card-body">
                <span class="card-tag">{post.data.category}</span>
                <p class="card-title">{post.data.title}</p>
                <p class="card-excerpt">{post.data.description}</p>
              </div>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA final -->
  <section style="padding: 4rem 1.5rem; background: linear-gradient(135deg, #d1fae5 0%, #6ee7b7 100%); text-align: center;">
    <div style="max-width: 700px; margin: 0 auto;">
      <h2 style="font-size:2rem; font-weight:800; color:#064e3b; margin-bottom:1rem;">Â¿Necesitas ayuda con tus plantas?</h2>
      <p style="font-size:1.1rem; color:#065f46; margin-bottom:2rem;">Tenemos mÃ¡s de 50 guÃ­as detalladas para ayudarte a mantener tus plantas sanas y bonitas.</p>
      <a href="/guias/" class="btn btn-primary">Explorar todas las guÃ­as</a>
    </div>
  </section>
</BaseLayout>
